(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{122:function(e,t,n){e.exports={header:"style_header__3kpKQ",siteLayoutBackground:"style_siteLayoutBackground__OYnXc",sider:"style_sider__36nIs"}},157:function(e,t,n){e.exports={content:"style_content__ds9GO",imagePreview:"style_imagePreview__2FdSf",actionBar:"style_actionBar__3oWYO"}},200:function(e,t,n){e.exports={container:"style_container__kjdJQ"}},202:function(e,t,n){e.exports={tableHeader:"style_tableHeader__2hYvs"}},206:function(e,t,n){e.exports={tableHeader:"style_tableHeader__36uAD"}},236:function(e,t){},242:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var a,c=n(0),o=n.n(c),r=n(6),i=n(30),s=n.n(i),l=n(118),u=n(35),j=(n(224),n(209)),d=n(88),b=n(112),h=n(33),m=n(91),p=Object(m.a)("signInRequestSaga"),O=Object(m.a)("signOut"),g=Object(m.a)("loginByTokenSaga"),f=Object(m.a)("setProfile",(function(e){return{profile:e}})),x={name:"",email:"",token:localStorage.getItem("token")||void 0},v=(a={},Object(b.a)(a,f,(function(e,t){var n=t.profile;return n.token&&localStorage.setItem("token",n.token),Object(h.a)({},n)})),Object(b.a)(a,O,(function(e){localStorage.clear();var t=x;return Object(h.a)(Object(h.a)({},t),{},{token:void 0})})),a),y=Object(m.b)(v,x),I=n(34),k=n.n(I),_=n(92),S=n(89),C=n.n(S),w=n(199),P=n.n(w),F=n(48),L=Object(F.a)(),R="/",q="/dashboard",A="/user management",T="/places",z="/comments",N=P()((function(e,t){401!==t.status&&403!==t.status||(localStorage.removeItem("token"),console.log("superAgentIntercept ----\x3e",t.status),L.push(R))})),B=function(e){return console.log("getRequest ===>",e),new Promise((function(t,n){return C.a.get(e).use(N).set({"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},U=function(e,t){return new Promise((function(n,a){return C.a.post(e).use(N).set({"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}).send(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},D=function(e,t){return new Promise((function(n,a){return C.a.put(e).use(N).set({"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}).send(t).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))},E=function(e){return new Promise((function(t,n){return C.a.delete(e).use(N).set({"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},H={protocol:"https://",host:"api.zielonamapa.pl"},V=Object.freeze({host:"".concat(H.protocol).concat(H.host),baseURL:"".concat(H.protocol).concat(H.host,"/api/")}),M=function(e){return U("".concat(V.baseURL,"auth/login"),e)},G=function(){return U("".concat(V.baseURL,"auth/loginByToken"))},W=k.a.mark(Q),K=k.a.mark(Y),J=k.a.mark(X);function Q(e){var t,n,a,c;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.email,a=t.password,console.log("signInRequest ====>",n,a),o.prev=2,o.next=5,Object(_.a)(M,{email:n,password:a});case 5:return c=o.sent,o.next=8,Object(_.b)(f(c.body));case 8:L.push("".concat(q).concat(T)),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(2),console.log(o.t0);case 14:case"end":return o.stop()}}),W,null,[[2,11]])}function Y(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_.a)(G);case 3:return e=t.sent,t.next=6,Object(_.b)(f(e.body));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),K,null,[[0,8]])}function X(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.c)(p,Q);case 2:return e.next=4,Object(_.c)(g,Y);case 4:case"end":return e.stop()}}),J)}var Z=Object(j.a)(),$=Object(d.c)({authReducer:y}),ee=Object(d.e)($,void 0,Object(d.d)(Object(d.a)(Z),window.devToolsExtension?window.devToolsExtension():function(e){return e}));Z.run(X);var te=ee,ne=(n(242),n(337)),ae=n(342),ce=n(339),oe=n(120),re=n(42),ie=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.authReducer})),n=Object(c.useCallback)((function(t){e(p(t))}),[e]),a=Object(c.useCallback)((function(){e(O())}),[e]);return{profile:t,onSignin:n,loginByToken:Object(c.useCallback)((function(){e(g())}),[e]),onSignOut:a}},se=n(200),le=n.n(se),ue=function(){var e=ie(),t=e.profile,n=e.onSignin;Object(c.useEffect)((function(){}),[t.token]);return Object(r.jsx)("div",{className:le.a.container,children:Object(r.jsx)(ne.a,{initialValues:{remember:!0},onFinish:function(e){n(e)},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(r.jsxs)(ae.a,{title:"Admin Login",style:{width:500},children:[Object(r.jsx)(ne.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(r.jsx)(ce.a,{})}),Object(r.jsx)(ne.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(r.jsx)(ce.a.Password,{})}),Object(r.jsx)(ne.a.Item,{name:"remember",valuePropName:"checked",children:Object(r.jsx)(oe.a,{children:"Remember me"})}),Object(r.jsx)(ne.a.Item,{children:Object(r.jsx)(re.a,{type:"primary",htmlType:"submit",children:"Login"})})]})})})},je=n(24),de=n(65),be=n(334),he=n(145),me=n(341),pe=n(349),Oe=n(350),ge=n(351),fe=n(63),xe=n(83),ve=n(343),ye=n(335),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return B("".concat(V.baseURL,"places?offset=").concat(e,"&limit=").concat(t,"&query=").concat(n))},ke=function(e,t){return D("".concat(V.baseURL,"places/").concat(e),t)},_e=n(144),Se=n.n(_e),Ce=n(202),we=n.n(Ce),Pe=function(e){var t=e.item,n=e.onChange,a=Object(c.useState)(!1),o=Object(je.a)(a,2),i=o[0],s=o[1];return Object(r.jsx)(ve.b,{size:"middle",children:Object(r.jsx)(re.a,{loading:i,icon:Object(r.jsx)(Se.a,{}),onClick:function(){var e;s(!0),e=t.id,E("".concat(V.baseURL,"places/").concat(e)),n()},children:"Delete"})})},Fe=function(e){var t=e.match,n=ne.a.useForm(),a=(Object(je.a)(n,1)[0],[{title:"Title",dataIndex:"title",key:"consultant_name",render:function(e,n){return Object(r.jsx)(xe.a,{to:"".concat(t.path,"/").concat(n.id),children:e})}},{title:"Search Label",dataIndex:"search_label",key:"search_label"},{title:"Action",key:"action",width:"20%",render:function(e,t){return Object(r.jsx)(Pe,{item:t,onChange:function(){return m()}})}}]),o=Object(c.useState)([]),i=Object(je.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)({total:0,curPage:1,pageSize:10}),j=Object(je.a)(u,2),d=j[0],b=j[1];Object(c.useEffect)((function(){m()}),[d.curPage]);var m=function(){var e=Object(fe.a)(k.a.mark((function e(){var t,n,a,c,o,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=d.pageSize,a=d.curPage,console.log("curPage ---\x3e",d),e.next=5,Ie(n*(a-1),n,t);case 5:c=e.sent,o=c.body,l(o.data),b({curPage:a,pageSize:n,total:o.total});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=d.pageSize,O=(d.curPage,d.total);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:we.a.tableHeader,children:[Object(r.jsx)(ce.a.Search,{style:{width:"40%"},onPressEnter:function(e){console.log("-----onFinishSearch----",e.target.value),m(e.target.value)}}),Object(r.jsx)(re.a,{onClick:function(){L.push("".concat(t.path,"/0"))},children:"New"})]}),Object(r.jsx)(ye.a,{columns:a,dataSource:s,onChange:function(e,t,n,a){console.log("tablePaginationOption ---\x3e",d),b(Object(h.a)(Object(h.a)({},d),{},{curPage:e.current}))},pagination:{defaultPageSize:p,showSizeChanger:!1,total:O}})]})},Le=n(119),Re=n(58),qe=n(170),Ae=n(340),Te=n(109),ze=n(60),Ne=n(338),Be=n(345),Ue=n(346),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return B("".concat(V.baseURL,"photos?offset=").concat(e,"&limit=").concat(t,"&query=").concat(n))},Ee=n(57),He=n.n(Ee),Ve=n(336),Me=n(344),Ge=function(e){var t,n=e.onFinishedUpload,a=Object(c.useState)({}),o=Object(je.a)(a,2),i=o[0],s=o[1],l={name:"file",multiple:!0,action:"".concat(V.host,"/api/photos/upload"),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},showUploadList:!1,onChange:function(e){e.file.status;console.log("info.file.percent ----\x3e",e.file.percent),s(e.file)},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}},u=ne.a.useForm(),j=Object(je.a)(u,1)[0];console.log("file ---\x3e",i);try{t=i.response.fileLink}catch(d){console.log("error ==>",d.message)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Te.a,{children:Object(r.jsx)("div",{className:He.a.uploadBox,children:Object(r.jsx)(Ve.a.Dragger,Object(h.a)(Object(h.a)({},l),{},{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"ant-upload-drag-icon",children:Object(r.jsx)(Me.a,{})}),Object(r.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]})}))})}),Object(r.jsx)("br",{}),Object(r.jsxs)(Te.a,{children:[Object(r.jsx)(ze.a,{span:12,children:Object(r.jsx)("div",{children:t&&Object(r.jsx)(Ne.a,{src:t,style:{width:"100%"}})})}),Object(r.jsx)(ze.a,{span:12,children:Object(r.jsx)("div",{style:{padding:8},children:Object(r.jsxs)(ne.a,{form:j,labelCol:{span:24},wrapperCol:{span:24},onFinish:function(e){var t;e.fileName=i.response.fileName,console.log("values ===>",e),(t=e,U("".concat(V.baseURL,"photos"),t)).then((function(e){console.log("res ====>",e.body),n(e.body.photo)})).catch((function(e){console.log(e.message)}))},children:[Object(r.jsx)(ne.a.Item,{label:"Alt:",name:"alt",children:Object(r.jsx)(ce.a,{})}),Object(r.jsx)(ne.a.Item,{label:"Description:",name:"description",children:Object(r.jsx)(ce.a.TextArea,{})}),Object(r.jsx)(ne.a.Item,{children:Object(r.jsx)(re.a,{style:{marginRight:0,marginLeft:"auto"},type:"primary",htmlType:"submit",children:"Save"})})]})})})]})]})},We=qe.a.TabPane,Ke=function(e){var t=e.open,n=e.onSelect,a=e.onClose,o=Object(c.useState)([]),i=Object(je.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)({total:0,curPage:1,pageSize:48}),j=Object(je.a)(u,2),d=j[0],b=j[1],h=Object(c.useState)({}),m=Object(je.a)(h,2),p=m[0],O=m[1],g=Object(c.useState)("1"),f=Object(je.a)(g,2),x=f[0],v=f[1],y=ne.a.useForm(),I=Object(je.a)(y,1)[0];Object(c.useEffect)((function(){_()}),[d.curPage]);var _=function(){var e=Object(fe.a)(k.a.mark((function e(){var t,n,a,c,o,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=d.pageSize,a=d.curPage,console.log("curPage ---\x3e",d),e.next=5,De(n*(a-1),n,t);case 5:c=e.sent,o=c.body,l([].concat(Object(Re.a)(s),Object(Re.a)(o.data))),b({curPage:a,pageSize:n,total:o.total});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t;console.log("---- removePhoto ---"),(t=e.id,E("".concat(V.baseURL,"photos/").concat(t))).then((function(t){var n=s.filter((function(t){return t.id!=e.id}));l(n)})).catch((function(e){console.log("ERROR ==>",e.messsage)}))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Ae.a,{title:"Select Image",centered:!0,width:"90%",visible:t,onOk:function(){n(p)},onCancel:a,children:Object(r.jsx)("div",{className:He.a.galleryWrapper,children:Object(r.jsxs)(qe.a,{onChange:function(e){console.log(" --- onChangeTab --- "),v(e)},type:"card",activeKey:x,children:[Object(r.jsx)(We,{tab:"Media Libray",children:Object(r.jsxs)(Te.a,{children:[Object(r.jsxs)(ze.a,{span:20,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ce.a.Search,{style:{width:"400px"},onPressEnter:function(){console.log(" --- onFinishSearch --- ")}})}),Object(r.jsx)("div",{className:He.a.imageWrapper,onScroll:function(e){var t=e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight;t&&(console.log("bottom =====>",t),_())},children:Object(r.jsx)(Te.a,{gutter:[4,4],children:s.map((function(e,t){return Object(r.jsx)(ze.a,{md:4,sm:6,lg:3,children:Object(r.jsxs)("div",{className:"".concat(He.a.photoItem," ").concat(p.id==e.id?He.a.active:""),children:[Object(r.jsx)("img",{src:e.sizes.thumbnail,onClick:function(){O(e),I.setFieldsValue(e)}}),Object(r.jsxs)("div",{className:He.a.checkMark,children:[Object(r.jsx)("div",{className:He.a.checked,children:Object(r.jsx)(Be.a,{})}),Object(r.jsx)("div",{className:He.a.remove,children:Object(r.jsx)(Ue.a,{onClick:function(){S(e)}})})]})]})})}))})})]}),Object(r.jsx)(ze.a,{span:4,children:Object(r.jsxs)("div",{style:{padding:8},children:[Object(r.jsx)("div",{children:"ATTACHMENT DETAIL"}),Object(r.jsx)("div",{className:He.a.previewImageBox,children:Object(r.jsx)(Ne.a,{src:p.url})}),Object(r.jsx)("div",{className:He.a.previewImageInfo,children:Object(r.jsxs)(ne.a,{form:I,labelCol:{span:24},wrapperCol:{span:24},onFinish:function(e){var t,n;console.log("onFinishPhotoForm ===>",e),t=p.id,n=e,D("".concat(V.baseURL,"photos/").concat(t),n)},children:[Object(r.jsx)(ne.a.Item,{label:"Alt:",name:"alt",children:Object(r.jsx)(ce.a,{})}),Object(r.jsx)(ne.a.Item,{label:"Description:",name:"description",children:Object(r.jsx)(ce.a.TextArea,{})}),Object(r.jsx)(ne.a.Item,{children:Object(r.jsx)(re.a,{style:{marginRight:0,marginLeft:"auto"},type:"primary",htmlType:"submit",children:"Save"})})]})})]})})]})},"1"),Object(r.jsx)(We,{tab:"Upload files",children:Object(r.jsx)(Ge,{onFinishedUpload:function(e){console.log("onFinishedUpload ===>",e),l([e].concat(Object(Re.a)(s))),O(e),v("1"),I.setFieldsValue(e)}})},"2")]})})})})},Je=n(347),Qe=n(348),Ye=n(157),Xe=n.n(Ye),Ze={labelCol:{span:4},wrapperCol:{span:20}},$e={wrapperCol:{offset:4,span:20}},et=function(e){var t=e.data,n=e.onChooseImage,a=e.onDeleteImage,o=e.onDelete,i=e.onSave;console.log("GalleryItem:",t);var s=ne.a.useForm(),l=Object(je.a)(s,1)[0];l.setFieldsValue(t);var u=Object(c.useState)(!1),j=Object(je.a)(u,2),d=j[0],b=j[1],m=function(){a&&a()},p=function(){var e=l.getFieldsValue();e.id=t.id,t.photo&&(e.photo_id=t.photo[0].id),e.place_id=t.place_id,i&&i(e)};return Object(r.jsx)("div",{className:Xe.a.content,children:Object(r.jsxs)(ne.a,Object(h.a)(Object(h.a)({},Ze),{},{form:l,onChange:function(){b(!0)},children:[Object(r.jsx)(ne.a.Item,{label:"Photo ID",name:"photo_id",children:Object(r.jsx)(ce.a,{disabled:!0})}),Object(r.jsx)(ne.a.Item,{label:"Description",name:"description",children:Object(r.jsx)(ce.a,{})}),Object(r.jsx)(ne.a.Item,{label:"Alt",name:"alt",children:Object(r.jsx)(ce.a,{})}),Object(r.jsx)(ne.a.Item,{label:"Preview",children:Object(r.jsx)("div",{className:Xe.a.imagePreview,children:t.photo?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("img",{src:t.photo[0].sizes.thumbnail}),Object(r.jsxs)("div",{className:Xe.a.actionBar,children:[Object(r.jsx)("span",{children:Object(r.jsx)(Je.a,{onClick:function(){return n(l.getFieldsValue())},style:{color:"#fff"}})}),Object(r.jsx)("span",{children:Object(r.jsx)(Qe.a,{style:{color:"#fff"},onClick:m})})]})]}):Object(r.jsx)(re.a,{type:"default",onClick:function(){return n(l.getFieldsValue())},children:"Add Image"})})}),Object(r.jsx)(ne.a.Item,Object(h.a)(Object(h.a)({},$e),{},{name:"bad_license",valuePropName:"checked",children:Object(r.jsx)(oe.a,{children:"Bad License"})})),Object(r.jsx)(ne.a.Item,Object(h.a)(Object(h.a)({},$e),{},{children:t.id>0?d||t.editing?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(re.a,{type:"primary",style:{marginRight:20},onClick:p,children:"Save"}),Object(r.jsx)(re.a,{type:"default",onClick:o,children:"Delete"})]}):Object(r.jsx)(re.a,{type:"default",onClick:o,children:"Delete"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(re.a,{type:"primary",style:{marginRight:20},onClick:p,children:"Create"}),Object(r.jsx)(re.a,{type:"default",onClick:o,children:"Cancel"})]})}))]}))})},tt=function(e){var t=e.gallery,n=Object(c.useState)(!1),a=Object(je.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)(),l=Object(je.a)(s,2),u=l[0],j=l[1],d=Object(c.useState)(t),b=Object(je.a)(d,2),m=b[0],p=b[1];Object(c.useEffect)((function(){console.log("gallery ===>",t),t&&p(t)}),[t]);var O=function(e){console.log("--- onDeleteGalleryItem --- ",e);var t,n=m[e];if(0===n.id){var a=Object(Re.a)(m);a.shift(),p(a)}else(t=n.id,E("".concat(V.baseURL,"places/gallery/").concat(t))).then((function(t){console.log(t.body);var n=Object(Re.a)(m);n.splice(e,1),p(n)})).catch((function(e){console.log(e.message)}))},g=function(e,t){var n;console.log("onSaveGalleryItem ===>",e,t),0==e.id?(n=e,U("".concat(V.baseURL,"places/gallery"),n)).then((function(e){console.log("createGalleryItem ===>",e),m[t].id=e.body.id,p(Object(Re.a)(m))})).catch((function(e){console.log("ERROR ==>",e.message)})):function(e,t){return D("".concat(V.baseURL,"places/gallery/").concat(e),t)}(e.id,e).then((function(e){console.log("createGalleryItem ===>",e)})).catch((function(e){console.log("ERROR ==>",e.message)}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ae.a,{title:"Gallery",extra:Object(r.jsx)(re.a,{type:"default",onClick:function(){return function(){console.log("---- addMoreItem ---- ");var e={id:0,photo_id:"",alt:"",place_id:m[0].place_id,bad_license:0,description:"",photo:null};p([e].concat(Object(Re.a)(m)))}()},children:"Add More"}),children:m.map((function(e,t){return Object(r.jsx)(et,{data:e,onDeleteImage:function(){var e;e=t,console.log("onDeleteItem ===> ",e),m[e].photo=null,p(Object(Re.a)(m))},onChooseImage:function(e){!function(e,t){j(t),m[t]=Object(h.a)(Object(h.a)({},m[t]),e),p(Object(Re.a)(m)),i(!0)}(e,t)},onDelete:function(){O(t)},onSave:function(e){return g(e,t)}},t)}))}),Object(r.jsx)(Ke,{open:o,onSelect:function(e){i(!1),m[u].photo=[e],m[u].photo_id=e.id,m[u].editing=!0,p(Object(Re.a)(m))},onClose:function(){i(!1)}})]})},nt=n(171),at=Le.a.Option,ct=(de.a,de.a.Item,de.a.Item,function(e){var t=e.match,n=t.params.placeId,a=Object(c.useRef)(null),o=Object(c.useRef)(null),i=Object(c.useState)([]),s=Object(je.a)(i,2),l=s[0],u=s[1],j=Object(c.useState)([]),d=Object(je.a)(j,2),b=d[0],h=d[1],m=Object(c.useState)(""),p=Object(je.a)(m,2),O=p[0],g=p[1],f=Object(c.useState)(""),x=Object(je.a)(f,2),v=x[0],y=x[1],I=Object(c.useState)(!1),_=Object(je.a)(I,2),S=_[0],C=_[1],w=Object(c.useState)([]),P=Object(je.a)(w,2),F=P[0],L=P[1],R=ne.a.useForm(),q=Object(je.a)(R,1)[0];console.log("placeId ===>",t.params.placeId),Object(c.useEffect)((function(){var e;(e=t.params.placeId,B("".concat(V.baseURL,"places/all?excludeId=").concat(e))).then((function(e){u(e.body),parseInt(t.params.placeId)>0&&function(e){return B("".concat(V.baseURL,"places/detail/").concat(e))}(t.params.placeId).then((function(e){console.log("getPlaceDetail ===>",e.body),q.setFieldsValue(e.body),g(e.body.content),L(e.body.gallery),y(e.body.second_page_content)}))}))}),[]);var A=function(){var e=Object(fe.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.current&&(t.content=a.current.getContent(),t.second_page_content=o.current.getContent()),C(!0),!(parseInt(n)>0)){e.next=7;break}return e.next=5,ke(n,t);case 5:e.next=9;break;case 7:return e.next=9,c=t,U("".concat(V.baseURL,"places"),c);case 9:C(!1);case 10:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}(),T=l.filter((function(e){return e.title.includes(b)})).map((function(e){return Object(r.jsx)(at,{value:"".concat(e.id),children:e.title},e.id)}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ae.a,{title:"Page Info",children:Object(r.jsxs)(ne.a,{form:q,style:{marginTop:20},onFinish:A,children:["Place title:",Object(r.jsx)(ne.a.Item,{name:"title",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),"Search Label:",Object(r.jsx)(ne.a.Item,{name:"search_label",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),"Parent Place:",Object(r.jsx)(ne.a.Item,{name:"place_parent",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(Le.a,{showSearch:!0,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,style:{width:"100%"},onSearch:function(e){console.log("handleSearch ---\x3e",e),h(e)},children:T})}),"Longitude:",Object(r.jsx)(ne.a.Item,{name:"longitude",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),"Latitude:",Object(r.jsx)(ne.a.Item,{name:"latitude",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),"Bounds:",Object(r.jsx)(ne.a.Item,{name:"bounds",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),"List Label:",Object(r.jsx)(ne.a.Item,{name:"list_label",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a.TextArea,{})}),"Content:",Object(r.jsx)(nt.a,{apiKey:"n16h33nt1xigk2hha9alkvvgxqyqa48akfey3cg9c6xdxxrc",onInit:function(e,t){a.current=t},initialValue:O,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect |  link image |bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),Object(r.jsx)("br",{}),"Second Content:",Object(r.jsx)(nt.a,{apiKey:"n16h33nt1xigk2hha9alkvvgxqyqa48akfey3cg9c6xdxxrc",onInit:function(e,t){o.current=t},initialValue:v,init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect |  link image |bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),Object(r.jsx)("br",{}),Object(r.jsx)(ne.a.Item,{children:Object(r.jsx)(re.a,{type:"primary",htmlType:"submit",loading:S,children:"Publish"})})]})}),Object(r.jsx)("br",{}),Object(r.jsx)(tt,{gallery:F})]})}),ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return B("".concat(V.baseURL,"comments?offset=").concat(e,"&limit=").concat(t,"&query=").concat(n))},rt=function(e,t){return D("".concat(V.baseURL,"comments/").concat(e),t)},it=n(206),st=n.n(it),lt=function(e){var t=e.item,n=e.onChange,a=Object(c.useState)(!1),o=Object(je.a)(a,2),i=o[0],s=o[1];return Object(r.jsx)(ve.b,{size:"middle",children:Object(r.jsx)(re.a,{loading:i,icon:Object(r.jsx)(Se.a,{}),onClick:function(){var e;s(!0),e=t.id,E("".concat(V.baseURL,"comments/").concat(e)),n()},children:"Delete"})})},ut=function(e){var t=e.match,n=ne.a.useForm(),a=(Object(je.a)(n,1)[0],[{title:"Comment Author",dataIndex:"comment_author",key:"comment_author",render:function(e,n){return Object(r.jsx)(xe.a,{to:"".concat(t.path,"/").concat(n.id),children:e})}},{title:"Author Email",dataIndex:"comment_author_email",key:"comment_author_email"},{title:"Content",dataIndex:"comment_content",key:"comment_author_IP"},{title:"Author IP",dataIndex:"comment_author_IP",key:"comment_author_IP"},{title:"Action",key:"action",width:"20%",render:function(e,t){return Object(r.jsx)(lt,{item:t,onChange:function(){return m()}})}}]),o=Object(c.useState)([]),i=Object(je.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)({total:0,curPage:1,pageSize:10}),j=Object(je.a)(u,2),d=j[0],b=j[1];Object(c.useEffect)((function(){m()}),[d.curPage]);var m=function(){var e=Object(fe.a)(k.a.mark((function e(){var t,n,a,c,o,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=d.pageSize,a=d.curPage,console.log("curPage ---\x3e",d),e.next=5,ot(n*(a-1),n,t);case 5:c=e.sent,o=c.body,l(o.data),b({curPage:a,pageSize:n,total:o.total});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=d.pageSize,O=(d.curPage,d.total);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:st.a.tableHeader,children:Object(r.jsx)(ce.a.Search,{style:{width:"40%"},onPressEnter:function(e){console.log("-----onFinishSearch----",e.target.value),m(e.target.value)}})}),Object(r.jsx)(ye.a,{columns:a,dataSource:s,onChange:function(e,t,n,a){console.log("tablePaginationOption ---\x3e",d),b(Object(h.a)(Object(h.a)({},d),{},{curPage:e.current}))},pagination:{defaultPageSize:p,showSizeChanger:!1,total:O}})]})},jt=n(122),dt=n.n(jt),bt=(Le.a.Option,function(e){var t=e.match,n=t.params.commentId,a=Object(c.useState)(!1),o=Object(je.a)(a,2),i=o[0],s=o[1],l=ne.a.useForm(),u=Object(je.a)(l,1)[0];console.log("commentId ===>",t.params.commentId),Object(c.useEffect)((function(){(function(e){return B("".concat(V.baseURL,"comments/detail/").concat(e))})(t.params.commentId).then((function(e){console.log("commentDetail ===>",e.body),u.setFieldsValue(e.body)}))}),[]);var j=function(){var e=Object(fe.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),!(parseInt(n)>0)){e.next=6;break}return e.next=4,rt(n,t);case 4:e.next=8;break;case 6:return e.next=8,a=t,U("".concat(V.baseURL,"comments"),a);case 8:s(!1);case 9:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(ae.a,{title:"Comment",children:Object(r.jsxs)(ne.a,{form:u,style:{marginTop:20},onFinish:j,children:["Author Name:",Object(r.jsx)(ne.a.Item,{name:"comment_author",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),"Author Email:",Object(r.jsx)(ne.a.Item,{name:"comment_author_email",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),"Comment:",Object(r.jsx)(ne.a.Item,{name:"comment_content",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a.TextArea,{})}),"Rate:",Object(r.jsx)(ne.a.Item,{name:"ratings",rules:[{required:!0,message:"required!"}],children:Object(r.jsx)(ce.a,{})}),Object(r.jsx)(ne.a.Item,{label:"Approve",name:"comment_approved",valuePropName:"checked",children:Object(r.jsx)(oe.a,{})}),Object(r.jsx)("br",{}),Object(r.jsxs)(ne.a.Item,{children:[Object(r.jsx)(re.a,{type:"primary",htmlType:"submit",loading:i,children:"Save"}),Object(r.jsx)(re.a,{type:"default",style:{marginLeft:16},loading:i,children:"Delete"})]})]})})})}),ht=(de.a.SubMenu,be.a.Header),mt=be.a.Content,pt=be.a.Sider,Ot=be.a.Footer,gt=function(e){var t=e.match,n=e.location,a="0";n.pathname.includes(T)&&(a="0"),n.pathname.includes(z)&&(a="1");var o=ie(),i=o.profile,s=o.onSignOut,l=Object(c.useState)([q,A]),j=Object(je.a)(l,2),d=j[0],b=j[1],h=function(e){L.push(e.join("")),b(e)},m=Object(r.jsx)(de.a,{children:Object(r.jsx)(de.a.Item,{children:Object(r.jsxs)("div",{onClick:function(){s(),L.push(R)},children:[Object(r.jsx)(pe.a,{})," Logout"]})},"1")});return Object(r.jsxs)(be.a,{children:[Object(r.jsx)(ht,{className:dt.a.header,children:Object(r.jsx)(he.a,{overlay:m,placement:"bottomLeft",children:Object(r.jsx)(re.a,{children:i.name})})}),Object(r.jsxs)(be.a,{className:dt.a.layout,children:[Object(r.jsx)(pt,{className:dt.a.sider,children:Object(r.jsxs)(de.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[a],children:[Object(r.jsx)(de.a.Item,{icon:Object(r.jsx)(Oe.a,{}),onClick:function(){h([t.path,T])},children:"Places"},"0"),Object(r.jsx)(de.a.Item,{icon:Object(r.jsx)(ge.a,{}),onClick:function(){h([t.path,z])},children:"Comments"},"1")]})}),Object(r.jsxs)(be.a,{style:{padding:"0 24px 24px",marginLeft:200},children:[Object(r.jsx)(me.a,{style:{margin:"16px 0",textTransform:"capitalize"},children:d.map((function(e,t){return Object(r.jsx)(me.a.Item,{children:e.replace("/","")},t)}))}),Object(r.jsxs)(mt,{className:dt.a.siteLayoutBackground,children:[Object(r.jsx)(u.a,{exact:!0,path:"".concat(t.path).concat(T),component:Fe}),Object(r.jsx)(u.a,{exact:!0,path:"".concat(t.path).concat(T,"/:placeId"),component:ct}),Object(r.jsx)(u.a,{exact:!0,path:"".concat(t.path).concat(z),component:ut}),Object(r.jsx)(u.a,{exact:!0,path:"".concat(t.path).concat(z,"/:commentId"),component:bt})]}),Object(r.jsx)(Ot,{style:{textAlign:"center"},children:"Zielonamapa \xa92021"})]})]})]})},ft=function(){var e=ie(),t=e.profile,n=e.loginByToken;e.onSignOut;return L.listen((function(e,t){})),Object(c.useEffect)((function(){console.log("profile ========>",t)}),[t]),Object(c.useEffect)((function(){t.token?n():L.push(R)}),[]),Object(r.jsx)("div",{})};var xt=function(){return console.log("app loading ..."),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ft,{}),Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{exact:!0,path:R,component:ue}),Object(r.jsx)(u.a,{path:"".concat(q),component:gt})]})]})},vt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,352)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(l.a,{store:te,children:Object(r.jsx)(u.b,{history:L,children:Object(r.jsx)(xt,{})})})}),document.getElementById("root")),vt()},57:function(e,t,n){e.exports={galleryWrapper:"style_galleryWrapper__3DPPE",imageWrapper:"style_imageWrapper__3SfX4",photoItem:"style_photoItem__61owl",active:"style_active__2_QpQ",checkMark:"style_checkMark__2H_-B",checked:"style_checked__3kKgb",remove:"style_remove__33B_J",previewImageBox:"style_previewImageBox__1P01y",uploadBox:"style_uploadBox__1ivP3"}}},[[332,1,2]]]);
//# sourceMappingURL=main.b12fb0e2.chunk.js.map